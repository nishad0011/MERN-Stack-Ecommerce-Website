(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{178:function(e,t,c){},196:function(e,t,c){},252:function(e,t,c){},303:function(e,t,c){},304:function(e,t,c){},306:function(e,t,c){},307:function(e,t,c){},308:function(e,t,c){},317:function(e,t,c){},319:function(e,t,c){},320:function(e,t,c){},324:function(e,t,c){},325:function(e,t,c){},326:function(e,t,c){},328:function(e,t,c){},329:function(e,t,c){},334:function(e,t){},336:function(e,t){},370:function(e,t){},372:function(e,t){},373:function(e,t){},378:function(e,t){},380:function(e,t){},400:function(e,t){},416:function(e,t){},419:function(e,t){},461:function(e,t,c){},462:function(e,t,c){},463:function(e,t,c){},464:function(e,t,c){},465:function(e,t,c){},466:function(e,t,c){},467:function(e,t,c){},468:function(e,t,c){},469:function(e,t,c){},470:function(e,t,c){},471:function(e,t,c){},473:function(e,t,c){},474:function(e,t,c){},475:function(e,t,c){},476:function(e,t,c){},477:function(e,t,c){},478:function(e,t,c){"use strict";c.r(t);var a=c(7),s=c(1),r=c.n(s),n=c(253),i=c.n(n),d=(c(303),c(304),c(254)),l=c.n(d),o=c(12),j=c(13),b=c(11),O=c(67),u=c(255),p=c(80),h=(c(196),c(2));var m=()=>Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("input",{type:"checkbox",name:"",id:"cd_input"}),Object(h.jsx)("label",{className:"open_button",for:"cd_input",children:Object(h.jsx)(O.b,{})}),Object(h.jsx)("div",{className:"nav_div",children:Object(h.jsx)("label",{id:"navbar_container",for:"cd_input",children:Object(h.jsx)("nav",{className:"headernavbar",children:Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{className:"close_button",id:"close_icon",children:Object(h.jsx)("label",{className:"",for:"cd_input",id:"closeBtn",children:Object(h.jsx)(p.a,{})})}),Object(h.jsx)("li",{className:"nav_li",children:Object(h.jsxs)("a",{className:"nav_a",href:"/",children:[Object(h.jsx)(O.a,{}),"Home"]})}),Object(h.jsx)("li",{className:"nav_li",children:Object(h.jsxs)("a",{className:"nav_a",href:"/products",children:[Object(h.jsx)(u.a,{}),"Products"]})}),Object(h.jsx)("li",{className:"nav_li",children:Object(h.jsxs)("a",{className:"nav_a",href:"/search",children:[Object(h.jsx)(p.c,{}),"Search"]})}),Object(h.jsx)("li",{className:"nav_li",children:Object(h.jsxs)("a",{className:"nav_a",href:"/loadertest",children:[Object(h.jsx)(O.c,{}),"Loader Test"]})})]})})})})]}),x=c(79),g=c(256);c(306);var v=()=>Object(h.jsx)("div",{className:"footerContainer",children:Object(h.jsxs)("footer",{id:"footer",children:[Object(h.jsxs)("div",{className:"leftFooter",children:[Object(h.jsx)("h4",{children:"SOCIALS :"}),Object(h.jsx)("span",{className:"logos",children:Object(h.jsx)(x.b,{size:40})}),Object(h.jsx)("span",{className:"logos",children:Object(h.jsx)(g.a,{size:40})})]}),Object(h.jsxs)("div",{className:"midFooter",children:[Object(h.jsx)("h1",{children:"Ecommerce"}),Object(h.jsx)("p",{children:"Quality over Quantity"}),Object(h.jsx)("p",{children:"Copyrights 2024 \xa9 Ecom Ltd"})]}),Object(h.jsxs)("div",{className:"bottomFooter",children:[Object(h.jsx)("h1",{children:"Follow Us"}),Object(h.jsx)("a",{href:"http://youtube.com",children:"Youtube"}),Object(h.jsx)("a",{href:"http://instagram.com",children:"Instagram"}),Object(h.jsx)("a",{href:"http://facebook.com",children:"Facebook"})]})]})});c(307);var f=()=>{const e=Object(o.o)();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{className:"notFoundHeader",children:"404"}),Object(h.jsx)("h1",{className:"notFoundText",children:"Page Not Found"}),Object(h.jsx)("button",{className:"notFoundHomeBtn",onClick:function(){e("/")},children:"Home"})]})},y=c(139),S=(c(308),c.p+"static/media/ecom_logo_cleaned.c4e6b652.png"),E=c(544);var N=e=>{let{product:t}=e;const c={value:t.ratings,readOnly:!0,precision:.5,size:"large"};return Object(h.jsxs)(j.a,{className:"productCard",to:"/product/".concat(t._id),children:[Object(h.jsx)("div",{className:"imageCont",children:0!==t.images.length?Object(h.jsx)("img",{src:t.images[0].url,alt:t.name}):null}),Object(h.jsx)("p",{children:t.name}),Object(h.jsxs)("div",{children:[Object(h.jsx)(E.a,Object(a.a)({},c)),Object(h.jsxs)("span",{className:"productCardSpan",children:[t.numOfReviews," Reviews"]})]}),Object(h.jsxs)("span",{children:["\u20b9",t.price]})]})},C=c(261);var P=e=>{let{title:t}=e;return Object(h.jsx)(C.a,{children:Object(h.jsx)("title",{children:t})})},w=c(541);const R="ALL_PRODUCT_REQUEST",_="ALL_PRODUCT_SUCCESS",D="ALL_PRODUCT_FAIL",I="ADMIN_PRODUCT_REQUEST",T="ADMIN_PRODUCT_SUCCESS",A="ADMIN_PRODUCT_FAIL",U="PRODUCT_DETAILS_REQUEST",L="PRODUCT_DETAILS_SUCCESS",F="PRODUCT_DETAILS_RESET",k="PRODUCT_DETAILS_FAIL",W="NEW_PRODUCT_REQUEST",q="NEW_PRODUCT_SUCCESS",B="NEW_PRODUCT_RESET",Q="NEW_PRODUCT_FAIL",V="UPDATE_PRODUCT_REQUEST",H="UPDATE_PRODUCT_SUCCESS",z="UPDATE_PRODUCT_RESET",G="UPDATE_PRODUCT_FAIL",J="DELETE_PRODUCT_REQUEST",M="DELETE_PRODUCT_SUCCESS",Y="DELETE_PRODUCT_RESET",X="DELETE_PRODUCT_FAIL",K="NEW_REVIEW_REQUEST",Z="NEW_REVIEW_SUCCESS",$="NEW_REVIEW_RESET",ee="NEW_REVIEW_FAIL",te="DELETE_REVIEW_RESET",ce="ALL_REVIEWS_REQUEST",ae="ALL_REVIEWS_SUCCESS",se="ALL_REVIEWS_FAIL",re="CLEAR_ERRORS",ne=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,25e3],a=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return async r=>{try{r({type:R});let n="/api/v1/products?keyword=".concat(e,"&page=").concat(t,"&price[gte]=").concat(c[0],"&price[lte]=").concat(c[1],"&ratings[gte]=").concat(s);a&&(n="/api/v1/products?keyword=".concat(e,"&page=").concat(t,"&price[gte]=").concat(c[0],"&price[lte]=").concat(c[1],"&category=").concat(a,"&ratings[gte]=").concat(s));const{data:i}=await w.a.get(n);r({type:_,payload:i})}catch(n){r({type:D,payload:n.response.data.message})}}},ie=()=>async e=>{try{e({type:I});const{data:t}=await w.a.get("/api/v1/admin/products");e({type:T,payload:t.products})}catch(t){e({type:A,payload:t.response.data.message})}},de=e=>async t=>{try{t({type:U});const{data:c}=await w.a.get("/api/v1/product/".concat(e));t({type:L,payload:c.product})}catch(c){t({type:k,payload:c.response.data.message})}},le=()=>async e=>{e({type:re})};var oe=c(17);c(317);var je=()=>Object(h.jsx)("div",{className:"loader-container",children:Object(h.jsx)("svg",{className:"svgBox",children:Object(h.jsx)("text",{x:"50%",y:"50%","text-anchor":"middle",className:"text-body",children:"Loading..."})})});var be=()=>{const e=Object(oe.d)(),t=Object(b.b)(),{loading:c,products:a,error:r}=Object(b.c)((e=>e.products));return Object(s.useEffect)((()=>{r&&(e.error(r),t(le())),t(ne())}),[t,r,e]),c?Object(h.jsx)(je,{}):Object(h.jsxs)(s.Fragment,{children:[Object(h.jsx)(P,{title:"SUPERCOM"}),Object(h.jsxs)("div",{className:"banner",children:[Object(h.jsx)("img",{className:"homeLogo",src:S,alt:"logo"}),Object(h.jsx)("h1",{children:"Welcome to Ecommerce"}),Object(h.jsx)("a",{href:"#homeheading",children:Object(h.jsxs)("button",{children:["Scroll ",Object(h.jsx)(y.a,{})]})})]}),Object(h.jsx)("h2",{className:"homeheading",id:"homeheading",children:"Featured Products"}),Object(h.jsx)("div",{className:"container",id:"container",children:a&&a.map((e=>Object(h.jsx)(N,{product:e})))})]})},Oe=c(530),ue=c(531),pe=c(532),he=c(533),me=c(85);c(319);const xe="ADD_TO_CART",ge="REMOVE_FROM_CART",ve="SAVE_SHIPPING_INFO",fe=(e,t)=>async(c,a)=>{const{data:s}=await w.a.get("/api/v1/product/".concat(e));c({type:xe,payload:{product:s.product._id,name:s.product.name,price:s.product.price,image:s.product.images[0].url,quantity:t,stock:s.product.stock}}),localStorage.setItem("cartItems",JSON.stringify(a().cart.cartItems))},ye=e=>async(t,c)=>{t({type:ge,payload:e}),localStorage.setItem("cartItems",JSON.stringify(c().cart.cartItems))};var Se=e=>{let{review:t}=e;const c={value:t.rating,readOnly:!0,precision:.5,size:"large"};return Object(h.jsxs)("div",{className:"reviewCard",children:[Object(h.jsx)("h3",{children:t.name}),Object(h.jsx)(E.a,Object(a.a)({},c)),Object(h.jsx)("p",{children:t.comment})]})},Ee=c(92);c(320);var Ne=e=>{let{images:t}=e,c=0;function a(){var e;if(c>=(null===(e=n)||void 0===e?void 0:e.length))c=0;else if(c<0){var t;c=(null===(t=n)||void 0===t?void 0:t.length)-1}n.forEach((e=>{e.classList.remove("displaying")})),n[c].classList.add("displaying")}function r(e){e||clearInterval(i),c++,a()}let n=null,i=null;return Object(s.useEffect)((()=>{n=document.querySelectorAll(".slides img"),n[0].classList.add("displaying"),n.length>1&&(i=setInterval((()=>r(!0)),2e3))}),[t]),Object(s.useEffect)((()=>()=>{console.log("returning"),clearInterval(i)}),[]),Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"ProductDetails",children:[t.length>=2&&Object(h.jsx)("button",{className:"prev",onClick:function(){clearInterval(i),c--,a()},children:Object(h.jsx)(Ee.c,{})}),Object(h.jsx)("div",{className:"slides",children:0!=t.length&&t.map(((e,t)=>Object(h.jsx)("img",{className:"CarouselImage",src:e.url,alt:"".concat(t," Slide")},e.url)))}),t.length>=2&&Object(h.jsx)("button",{className:"next",onClick:()=>r(!1),children:Object(h.jsx)(Ee.b,{})})]})})};var Ce=()=>{const e=Object(b.b)(),t=Object(o.q)(),c=Object(oe.d)(),{product:r,loading:n,error:i}=Object(b.c)((e=>e.productDetails)),{success:d,error:l}=Object(b.c)((e=>e.newReview));r&&r._id!==t.id&&(console.log("reset proddetails "),e({type:F}),e(de(t.id)));const[j,O]=Object(s.useState)(1),[u,p]=Object(s.useState)(!1),[m,x]=Object(s.useState)(0),[g,v]=Object(s.useState)([]),[f,y]=Object(s.useState)([]),[S,N]=Object(s.useState)(""),C=()=>{p(!u)};return Object(s.useEffect)((()=>{i&&(c.error(i),e(le())),l&&(c.error(l),e(le())),d&&(c.success("Review Submitted Successfully"),e({type:$}))}),[e,t.id,i,c,l,d]),Object(s.useEffect)((()=>{if(r){if(void 0!=r.ratings){let e={value:r.ratings,readOnly:!0,precision:.5,size:"large"};v(e)}void 0!=r.images&&y(r.images)}}),[r]),n?Object(h.jsx)(je,{}):Object(h.jsxs)(s.Fragment,{children:[Object(h.jsxs)("div",{className:"ParentDiv",children:[Object(h.jsx)("div",{className:"imageBox",children:(null===r||void 0===r?void 0:r._id)==t.id&&(0==f.length?null:Object(h.jsx)(Ne,{images:f}))}),Object(h.jsxs)("div",{className:"detailsBlock",children:[Object(h.jsxs)("div",{className:"detailsBlock-1",children:[Object(h.jsx)("h2",{children:r.name}),Object(h.jsxs)("p",{children:["Product #",r._id]})]}),Object(h.jsx)("div",{className:"detailsBlock-2",children:0==Object.keys(g).length?null:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(E.a,Object(a.a)({},g)),Object(h.jsxs)("span",{children:[r.numOfReviews," Reviews"]})]})}),Object(h.jsxs)("div",{className:"detailsBlock-3",children:[Object(h.jsxs)("h1",{children:["\u20b9 ",r.price]}),Object(h.jsxs)("div",{className:"detailsBlock-3-1",children:[Object(h.jsxs)("div",{className:"detailsBlock-3-1-1",children:[Object(h.jsx)("button",{onClick:()=>{if(1>=j)return;O(j-1)},children:"-"}),Object(h.jsx)("input",{readOnly:!0,value:j,type:"number"}),Object(h.jsx)("button",{onClick:()=>{if(r.stock<=j)return;O(j+1)},children:"+"})]}),Object(h.jsx)("button",{disabled:r.stock<1,onClick:()=>{e(fe(t.id,j)),c.success("Item added to Cart")},children:"Add to Cart"})]}),Object(h.jsxs)("p",{children:["Status:","  ",Object(h.jsx)("b",{className:r.Stock<1?"redColor":"greenColor",children:r.Stock<1?"OutOfStock":"InStock (".concat(r.stock,")")})]})]}),Object(h.jsxs)("div",{className:"detailsBlock-4",children:["Description: ",Object(h.jsx)("p",{children:r.description})]}),Object(h.jsx)("button",{onClick:C,className:"submitReview",children:"Submit Review"})]})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h3",{className:"revHeadings",children:"REVIEWS"}),Object(h.jsxs)(Oe.a,{"aria-labelledby":"simple-dialog-title",open:u,onClose:C,children:[Object(h.jsx)(ue.a,{children:"Submit Review"}),Object(h.jsxs)(pe.a,{className:"submitDialog",children:[Object(h.jsx)(E.a,{onChange:e=>x(e.target.value),value:m,size:"large"}),Object(h.jsx)("textarea",{className:"submitDialogTextArea",cols:"30",rows:"5",value:S,onChange:e=>{N(e.target.value)}})]}),Object(h.jsxs)(he.a,{children:[Object(h.jsx)(me.a,{onClick:C,color:"secondary",children:"Cancel"}),Object(h.jsx)(me.a,{onClick:()=>{const c=new FormData;var a;c.set("rating",m),c.set("comment",S),c.set("productId",t.id),e((a=c,async e=>{try{e({type:K});const t={headers:{"Content-Type":"application/json"}},{data:c}=await w.a.put("/api/v1/review",a,t);e({type:Z,payload:c.success})}catch(i){e({type:ee,payload:i.response.data.message})}})),p(!1)},color:"primary",children:"Submit"})]})]}),r.reviews&&r.reviews[0]?Object(h.jsx)("div",{className:"reviews",children:r.reviews&&r.reviews.map((e=>Object(h.jsx)(Se,{review:e})))}):Object(h.jsx)("p",{className:"noReviews",children:"No Reviews Yet"})]})]})},Pe=c(265),we=c.n(Pe),Re=c(543),_e=c(276);c(324);const De=["All","Electronics","Laptop","Footwear","Pants","Shirts","Cameras","Phones"];var Ie=()=>{const e=Object(b.b)(),t=Object(o.q)(),c=Object(oe.d)(),[a,r]=Object(s.useState)(1),[n,i]=Object(s.useState)(1e5),[d,l]=Object(s.useState)([0,n]),[j,O]=Object(s.useState)(""),[u,p]=Object(s.useState)(0),{products:m,loading:x,error:g,productsCount:v,resultPerPage:f,filteredProdCount:y}=Object(b.c)((e=>e.products)),S=t.keyword;return Object(s.useEffect)((()=>{g&&(c.error(g),e(le())),e(ne(S,a,d,j,u))}),[e,S,a,d,j,u,c,g]),Object(s.useEffect)((()=>{if(m.length>0){let e=0;null===m||void 0===m||m.forEach((t=>{t.price>e&&(e=t.price)})),i(e)}}),[]),Object(h.jsxs)(s.Fragment,{children:[Object(h.jsx)(P,{title:"PRODUCTS"}),Object(h.jsx)("h2",{className:"productsHeading",children:"PRODUCTS"}),Object(h.jsxs)("div",{className:"sidebarProductsContainer",children:[Object(h.jsxs)("div",{className:"filterBox",children:[Object(h.jsx)(_e.a,{children:"Price"}),Object(h.jsx)("div",{className:"sliderDiv",children:Object(h.jsx)(Re.a,{value:d,size:"large",onChange:(e,t)=>{l(t)},valueLabelDisplay:"auto","aria-labelledby":"range-slider",min:0,max:n,"aria-label":"Default",step:50})}),Object(h.jsx)(_e.a,{children:"Categories"}),Object(h.jsx)("ul",{className:"categoryBox",children:De.map((e=>Object(h.jsx)("li",{className:"category-link",keys:e,onClick:()=>(e=>{O("All"==e?"":e),r(0)})(e),children:e})))}),Object(h.jsx)(_e.a,{children:"Ratings Above"}),Object(h.jsx)("div",{className:"sliderDiv",children:Object(h.jsx)("fieldset",{children:Object(h.jsx)(Re.a,{value:u,onChange:(e,t)=>{p(t)},"aria-labelledby":"continuous-slider",valueLabelDisplay:"auto",min:0,max:5})})})]}),Object(h.jsx)("div",{className:"products",children:x?Object(h.jsx)(je,{}):m.length?m.map((e=>Object(h.jsx)(N,{product:e},e._id))):Object(h.jsx)("h1",{className:"noProdDiv",children:"No Products Found"})})]}),f<y&&Object(h.jsx)("div",{className:"paginationBox",children:Object(h.jsx)(we.a,{activePage:a,itemsCountPerPage:f,totalItemsCount:v,onChange:e=>{r(e)},nextPageText:"Next",prevPageText:"Prev",firstPageText:"First",lastPageText:"Last",itemClass:"page-item",linkClass:"page-link",activeClass:"pageItemActive",activeLinkClass:"pageLinkActive"})})]})};c(325);var Te=e=>{let{history:t}=e;const[c,a]=Object(s.useState)(""),r=Object(o.o)();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(P,{title:"SEARCH"}),Object(h.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c.trim()?r("/products/".concat(c)):r("/products")},className:"searchBox",children:[Object(h.jsx)("input",{type:"text",placeholder:"Search a Product",onChange:e=>a(e.target.value)}),Object(h.jsx)("input",{type:"submit",value:"search"})]})]})},Ae=(c(326),c(15));const Ue="LOGIN_REQUEST",Le="LOGIN_SUCCESS",Fe="LOGIN_FAIL",ke="REGISTER_REQUEST",We="REGISTER_SUCCESS",qe="REGISTER_FAIL",Be="LOAD_USER_REQUEST",Qe="LOAD_USER_SUCCESS",Ve="ALL_USER_REQUEST",He="ALL_USER_SUCCESS",ze="ALL_USER_FAIL",Ge="UPDATE_USER_REQUEST",Je="UPDATE_USER_SUCCESS",Me="UPDATE_USER_RESET",Ye="UPDATE_USER_FAIL",Xe="DELETE_USER_REQUEST",Ke="DELETE_USER_SUCCESS",Ze="DELETE_USER_RESET",$e="DELETE_USER_FAIL",et="USER_DETAILS_REQUEST",tt="USER_DETAILS_SUCCESS",ct="USER_DETAILS_FAIL",at="LOGOUT_SUCCESS",st="LOGOUT_FAIL",rt="UPDATE_PROFILE_REQUEST",nt="UPDATE_PROFILE_SUCCESS",it="UPDATE_PROFILE_RESET",dt="UPDATE_PROFILE_FAIL",lt="UPDATE_PASSWORD_REQUEST",ot="UPDATE_PASSWORD_SUCCESS",jt="UPDATE_PASSWORD_RESET",bt="UPDATE_PASSWORD_FAIL",Ot="FORGOT_PASSWORD_REQUEST",ut="FORGOT_PASSWORD_SUCCESS",pt="FORGOT_PASSWORD_FAIL",ht="RESET_PASSWORD_REQUEST",mt="RESET_PASSWORD_SUCCESS",xt="RESET_PASSWORD_FAIL",gt="CLEAR_ERRORS",vt=()=>async e=>{try{e({type:Be});const{data:t}=await w.a.get("/api/v1/me");e({type:Qe,payload:t.user})}catch(t){e({type:Fe,payload:t.response.data.message})}},ft=()=>async e=>{try{e({type:Ve});const{data:t}=await w.a.get("/api/v1/admin/users");e({type:He,payload:t.users})}catch(t){e({type:ze,payload:t.response.data.message})}},yt=()=>async e=>{e({type:gt})};var St=()=>{const e=Object(b.b)(),t=Object(oe.d)(),c=Object(o.o)(),r=(Object(o.m)(),Object(s.useRef)(null)),n=Object(s.useRef)(null),i=Object(s.useRef)(null),{error:d,loading:l,isAuthenticated:O}=Object(b.c)((e=>e.user)),[u,p]=Object(s.useState)(""),[m,g]=Object(s.useState)(""),[v,f]=Object(s.useState)({name:"",email:"",password:""}),{name:y,email:S,password:E}=v,[N,C]=Object(s.useState)(),[P,R]=Object(s.useState)("./Profile.png"),_=e=>{if("avatar"==e.target.name){const t=new FileReader;t.onload=()=>{2===t.readyState&&(R(t.result),C(t.result))},t.readAsDataURL(e.target.files[0])}else f(Object(a.a)(Object(a.a)({},v),{},{[e.target.name]:e.target.value}))};Object(s.useEffect)((()=>{d&&"Please Login to access resource"!=d&&(t.error(d),e(yt())),O&&c("/profile",{replace:!0})}),[e,d,t,O]);const D=(e,t)=>{"login"===t?(i.current.classList.add("shiftToNeutral"),i.current.classList.remove("shiftToRight"),n.current.classList.remove("shiftToNeutralForm"),r.current.classList.remove("shiftToLeft")):"register"===t&&(i.current.classList.add("shiftToRight"),i.current.classList.remove("shiftToNeutral"),n.current.classList.add("shiftToNeutralForm"),r.current.classList.add("shiftToLeft"))};return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"LoginSignUpContainer",children:Object(h.jsx)("div",{className:"LoginSignUpBox",children:l?Object(h.jsx)(je,{}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"login_signup_toggle",children:[Object(h.jsx)("div",{children:Object(h.jsx)("p",{onClick:e=>D(0,"login"),children:"LOGIN"})}),Object(h.jsx)("div",{children:Object(h.jsx)("p",{onClick:e=>D(0,"register"),children:"REGISTER"})})]}),Object(h.jsx)("button",{ref:i})]}),Object(h.jsxs)("form",{className:"loginform",ref:r,onSubmit:t=>{t.preventDefault(),e(((e,t)=>async c=>{try{c({type:Ue});const a={headers:{"Content-Type":"application/json"}},{data:s}=await w.a.post("/api/v1/login",{email:e,password:t},a);c({type:Le,payload:s.user})}catch(d){c({type:Fe,payload:d.response.data.message})}})(u,m))},action:"",children:[Object(h.jsxs)("div",{className:"loginEmail",children:[Object(h.jsx)(Ae.m,{}),Object(h.jsx)("input",{type:"email",placeholder:"Email",required:!0,value:u,onChange:e=>p(e.target.value)})]}),Object(h.jsxs)("div",{className:"loginPass",children:[Object(h.jsx)(Ae.j,{}),Object(h.jsx)("input",{type:"password",placeholder:"Password",required:!0,value:m,onChange:e=>g(e.target.value)})]}),Object(h.jsx)(j.a,{className:"fpLink",to:"/password/forgot",children:"Forgot Password"}),Object(h.jsx)("input",{type:"submit",value:"Login",className:"loginBtn"})]}),Object(h.jsxs)("form",{className:"signupform",ref:n,encType:"multipart/form-data",onSubmit:t=>{t.preventDefault();const c=new FormData;var a;c.set("name",y),c.set("email",S),c.set("password",E),c.set("avatar",N),e((a=c,async e=>{try{e({type:ke});const t={headers:{"Content-Type":"application/json"}},{data:c}=await w.a.post("/api/v1/register",a,t);e({type:We,payload:c.user})}catch(d){e({type:qe,payload:d.response.data.message})}}))},action:"",children:[Object(h.jsxs)("div",{className:"signupName",children:[Object(h.jsx)(x.a,{}),Object(h.jsx)("input",{type:"text",placeholder:"Name",required:!0,name:"name",value:y,onChange:_})]}),Object(h.jsxs)("div",{className:"signupEmail",children:[Object(h.jsx)(Ae.m,{}),Object(h.jsx)("input",{name:"email",type:"email",placeholder:"Email",required:!0,value:S,onChange:_})]}),Object(h.jsxs)("div",{className:"signupPass",children:[Object(h.jsx)(Ae.j,{}),Object(h.jsx)("input",{name:"password",type:"password",placeholder:"Password",required:!0,value:E,onChange:_})]}),Object(h.jsxs)("div",{className:"registerImage",children:[Object(h.jsx)("img",{src:P,alt:"Avatar Preview"}),Object(h.jsx)("input",{type:"file",name:"avatar",accept:"image/*",onChange:_})]}),Object(h.jsx)("input",{type:"submit",value:"Register",className:"signupBtn",disabled:!!l})]})]})})})})},Et=c(267),Nt=c(27),Ct=c(113),Pt=c(266);const wt="CREATE_ORDER_REQUEST",Rt="CREATE_ORDER_SUCCESS",_t="CREATE_ORDER_FAIL",Dt="MY_ORDERS_REQUEST",It="MY_ORDERS_SUCCESS",Tt="MY_ORDERS_FAIL",At="ALL_ORDERS_REQUEST",Ut="ALL_ORDERS_SUCCESS",Lt="ALL_ORDERS_FAIL",Ft="UPDATE_ORDERS_REQUEST",kt="UPDATE_ORDERS_SUCCESS",Wt="UPDATE_ORDERS_RESET",qt="UPDATE_ORDERS_FAIL",Bt="DELETE_ORDERS_REQUEST",Qt="DELETE_ORDERS_SUCCESS",Vt="DELETE_ORDERS_FAIL",Ht="ORDER_DETAILS_REQUEST",zt="ORDER_DETAILS_SUCCESS",Gt="ORDER_DETAILS_FAIL",Jt="CLEAR_ERRORS",Mt=Object(Nt.combineReducers)({products:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:case I:return{loading:!0,products:[]};case _:return{loading:!1,products:t.payload.products,productsCount:t.payload.productsCount,resultPerPage:t.payload.resultPerPage,filteredProdCount:t.payload.filteredProdCount};case T:return{loading:!1,products:t.payload};case D:case A:return{loading:!1,error:t.payload};case re:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},productDetails:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return{loading:!0};case L:return{loading:!1,product:t.payload};case k:return{loading:!1,error:t.payload};case F:return{loading:!0,product:null};case re:return{error:null};default:return e}},newProduct:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case q:return{loading:!1,success:t.payload.success,product:t.payload.product};case Q:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});case B:return Object(a.a)(Object(a.a)({},e),{},{success:!1});case re:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},product:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:case V:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case M:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isDeleted:t.payload.success,message:t.payload.message});case H:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isUpdated:t.payload.success,message:t.payload.message,product:t.payload.product});case X:case G:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});case Y:return Object(a.a)(Object(a.a)({},e),{},{isDeleted:null,success:!1});case z:return Object(a.a)(Object(a.a)({},e),{},{isUpdated:null,message:null,product:null});case re:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},productReviews:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{reviews:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case ae:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,reviews:t.payload.reviews});case se:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});case re:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},deleteReview:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE_REVIEW_REQUEST":return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case"DELETE_REVIEW_SUCCESS":return{loading:!1,isDeleted:t.payload.success,message:t.payload.message};case"DELETE_REVIEW_FAIL":return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});case te:return Object(a.a)(Object(a.a)({},e),{},{isDeleted:!1});case re:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},newOrder:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wt:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case Rt:return{loading:!1,success:t.payload.success,order:t.payload.order};case _t:return{loading:!1,error:t.payload};case Jt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},myOrders:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Dt:return{loading:!0};case It:return{loading:!1,orders:t.payload};case Tt:return{loading:!1,error:t.payload};case Jt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},orderDetails:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ht:return{loading:!0};case zt:return{loading:!1,success:t.success,order:t.payload};case Gt:return{loading:!1,success:t.success,error:t.payload};case Jt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},allOrders:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case At:return{loading:!0};case Ut:return{loading:!1,success:t.success,totalAmount:t.totalAmount,orders:t.payload};case Lt:return{loading:!1,error:t.payload};case Jt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},order:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ft:case Bt:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case kt:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isUpdated:t.success});case Qt:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isDeleted:t.success,message:t.message});case qt:case Vt:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});case Wt:return{loading:!1,isUpdated:!1};case"DELETE_ORDERS_RESET":return{loading:!1,isDeleted:!1};case Jt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},user:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue:case ke:case Be:return{loading:!0,isAuthenticated:!1};case Le:case We:case Qe:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isAuthenticated:!0,user:t.payload});case at:return{loading:!1,isAuthenticated:!1,user:null};case Fe:case qe:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isAuthenticated:!1,user:null,error:t.payload});case"LOAD_USER_FAIL":return{loading:!1,isAuthenticated:!1,user:null,error:t.payload};case st:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});case gt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},profile:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case rt:case lt:case Ge:case Xe:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case nt:case ot:case Je:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isUpdated:t.payload});case Ke:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,message:t.payload.message,isDeleted:t.payload.success});case dt:case bt:case Ye:case $e:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});case it:case jt:case Me:case Ze:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isUpdated:!1});case gt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},forgotPassword:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ot:case ht:return Object(a.a)(Object(a.a)({},e),{},{loading:!0,errror:null});case ut:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,message:t.payload});case mt:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,success:t.payload});case pt:case xt:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});case gt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},cart:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingInfo:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xe:const c=t.payload;console.log("item = "+c);const s=e.cartItems.find((e=>e.product===c.product));return s?Object(a.a)(Object(a.a)({},e),{},{cartItems:e.cartItems.map((e=>e.product===s.product?c:e))}):Object(a.a)(Object(a.a)({},e),{},{cartItems:[...e.cartItems,c]});case ge:return Object(a.a)(Object(a.a)({},e),{},{cartItems:e.cartItems.filter((e=>e.product!==t.payload))});case ve:return Object(a.a)(Object(a.a)({},e),{},{shippingInfo:t.payload});default:return e}},newReview:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case Z:return{loading:!1,success:t.payload};case ee:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});case $:return Object(a.a)(Object(a.a)({},e),{},{success:!1});case re:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},allUsers:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ve:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case He:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,users:t.payload});case ze:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});case gt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}},userDetails:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case et:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case tt:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,user:t.payload});case ct:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,error:t.payload});case gt:return Object(a.a)(Object(a.a)({},e),{},{error:null});default:return e}}});let Yt={cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],shippingInfo:localStorage.getItem("shippingInfo")?JSON.parse(localStorage.getItem("shippingInfo")):[]}};const Xt=[Ct.a];var Kt=Object(Et.a)({reducer:Mt},Yt,Object(Pt.composeWithDevTools)(Object(Nt.applyMiddleware)(...Xt))),Zt=c(545),$t=c(534),ec=c(180),tc=c(484);var cc=e=>{let{user:t}=e;const c=Object(oe.d)(),a=Object(o.o)(),r=Object(b.b)(),{cartItems:n}=Object(b.c)((e=>e.cart)),[i,d]=Object(s.useState)(!1),l=[{icon:Object(h.jsx)(ec.b,{}),name:n.length>=1?"Cart(".concat(n.length,")"):"Cart",func:function(){a("/cart")}},{icon:Object(h.jsx)(y.b,{}),name:"Profile",func:function(){a("/profile")}},{icon:Object(h.jsx)(ec.a,{}),name:"Logout",func:function(){r((async e=>{try{await w.a.get("/api/v1/logout"),e({type:at})}catch(t){e({type:st,payload:t.response.data.message})}})),c.success("Logged out Successfully")}}];return"admin"===t.role&&l.unshift({icon:Object(h.jsx)(Ae.b,{}),name:"Dashboard",func:function(){a("/admin/dashboard")}}),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(tc.a,{open:i,style:{zIndex:"10"}}),Object(h.jsx)(Zt.a,{className:"sd",ariaLabel:"Speeddial Tool tip",onClose:()=>d(!1),onOpen:()=>d(!0),open:i,direction:"down",icon:Object(h.jsx)("img",{className:"sdIcon",src:t&&t.avatar.url?t.avatar.url:"/Profile.png",alt:"Icon"}),children:l.map((e=>Object(h.jsx)($t.a,{icon:e.icon,tooltipTitle:e.name,onClick:e.func,tooltipOpen:window.innerWidth<=600},e.name)))})]})};c(328);var ac=()=>{const e=Object(o.o)();return Object(h.jsx)("div",{className:"btnContainer",children:Object(h.jsx)("button",{className:"homeloginBtn",onClick:()=>{e("/login")},children:"Login"})})};c(329);var sc=()=>{Object(o.o)();const{user:e,loading:t}=Object(b.c)((e=>e.user));return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(P,{title:"Profile - ".concat(e.name)}),t?Object(h.jsx)(je,{}):Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"profileContainer",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"My Profile"}),Object(h.jsx)("img",{className:"prof_img",src:e.avatar.url,alt:"User Profile"}),Object(h.jsx)(j.a,{to:"/me/update",children:"Edit \ud83d\udd8a"})]}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("h4",{children:"Name : "}),Object(h.jsx)("p",{children:e.name})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h4",{children:"Email : "}),Object(h.jsx)("p",{children:e.email})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h4",{children:"Account Created on : "}),Object(h.jsx)("p",{children:String(e.createdAt).substring(0,10)})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(j.a,{to:"/orders/me",children:"My Orders"}),Object(h.jsx)(j.a,{to:"/password/update",children:"Change Password"})]})]})]})})]})};c(330);var rc=e=>{let{isAdmin:t=!1,children:c}=e;const a=Object(o.o)(),r=Object(s.useRef)(!1),n=Object(s.useRef)(!1),{isAuthenticated:i,loading:d,user:l}=Object(b.c)((e=>e.user));for(Object(s.useEffect)((()=>{r.current&&a("/login",{replace:!0}),n.current&&a("/profile",{replace:!0})}),[r.current,n.current,a]);void 0===d||!0===d;)return Object(h.jsx)(je,{});if(!1===i)r.current=!0;else{if(1!=t)return c;if("user"!==l.role)return c;n.current=!0}};c(461);var nc=()=>{const e=Object(b.b)(),t=Object(oe.d)(),c=Object(o.o)(),{user:a}=Object(b.c)((e=>e.user)),{error:r,loading:n,isUpdated:i}=Object(b.c)((e=>e.profile)),[d,l]=Object(s.useState)(""),[j,O]=Object(s.useState)(""),[u,p]=Object(s.useState)(),[m,g]=Object(s.useState)("");return Object(s.useEffect)((()=>{a&&(l(a.name),O(a.email),g(a.avatar.url)),r&&"Please Login to access resource"!=r&&(t.error(r),e(yt())),i&&(t.success("Profile Updated Successfully"),e(vt()),c("/profile"),e({type:it}))}),[e,r,t,c,a,i]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(P,{title:"Update Profile - ".concat(a.name)}),Object(h.jsx)("div",{className:"updateProfileContainer",children:Object(h.jsx)("div",{className:"updateProfileBox",children:n?Object(h.jsx)(je,{}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h2",{className:"updateProfileHeading",children:"Update Profile"}),Object(h.jsxs)("form",{className:"updateProfileform",encType:"multipart/form-data",onSubmit:t=>{t.preventDefault();const c=new FormData;var a;c.set("name",d),c.set("email",j),c.set("avatar",u),console.log("Signup Form Submitted"),e((a=c,async e=>{try{e({type:rt});const t={headers:{"Content-Type":"application/json"}},{data:c}=await w.a.put("/api/v1/me/update",a,t);e({type:nt,payload:c.success})}catch(r){e({type:dt,payload:r.response.data.message})}}))},action:"",children:[Object(h.jsxs)("div",{className:"updateProfileName",children:[Object(h.jsx)(x.a,{}),Object(h.jsx)("input",{type:"text",placeholder:"Name",required:!0,name:"name",value:d,onChange:e=>l(e.target.value)})]}),Object(h.jsxs)("div",{className:"updateProfileEmail",children:[Object(h.jsx)(Ae.m,{}),Object(h.jsx)("input",{name:"email",type:"email",placeholder:"Email",required:!0,value:j,onChange:e=>O(e.target.value)})]}),Object(h.jsxs)("div",{className:"updateProfileImage",children:[Object(h.jsx)("img",{src:m,alt:"Avatar Preview"}),Object(h.jsx)("input",{type:"file",name:"avatar",accept:"image/*",onChange:e=>{if("avatar"==e.target.name){const t=new FileReader;t.onload=()=>{2===t.readyState&&(g(t.result),p(t.result))},t.readAsDataURL(e.target.files[0])}}})]}),Object(h.jsx)("input",{type:"submit",value:"Update Profile",className:"updateProfileBtn",disabled:!!n})]})]})})})]})},ic=c(33);c(462);var dc=()=>{const e=Object(b.b)(),t=Object(oe.d)(),c=Object(o.o)(),{user:a}=Object(b.c)((e=>e.user)),{error:r,loading:n,isUpdated:i}=Object(b.c)((e=>e.profile)),[d,l]=Object(s.useState)(""),[j,O]=Object(s.useState)(""),[u,p]=Object(s.useState)("");return Object(s.useEffect)((()=>{r&&"Please Login to access resource"!=r&&(t.error(r),e(yt())),i&&(t.success("Password Updated Successfully"),c("/profile"),e({type:jt}))}),[e,r,t,c,a,i]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(P,{title:"Update Password - ".concat(a.name)}),Object(h.jsx)("div",{className:"updatePasswordContainer",children:Object(h.jsx)("div",{className:"updatePasswordBox",children:n?Object(h.jsx)(je,{}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("h2",{className:"updatePasswordHeading",children:["Update ",a.name,"'s Password"]}),Object(h.jsxs)("form",{className:"updatePasswordform",onSubmit:t=>{t.preventDefault();const c=new FormData;var a;c.set("oldPassword",d),c.set("newPassword",j),c.set("confirmPassword",u),e((a=c,async e=>{try{e({type:lt});const t={headers:{"Content-Type":"application/json"}},{data:c}=await w.a.put("/api/v1/password/update",a,t);e({type:ot,payload:c.success})}catch(r){e({type:bt,payload:r.response.data.message})}}))},action:"",children:[Object(h.jsxs)("div",{className:"loginPass",children:[Object(h.jsx)(Ae.p,{}),Object(h.jsx)("input",{name:"oldpassword",type:"password",placeholder:"Current Password",required:!0,value:d,onChange:e=>l(e.target.value)})]}),Object(h.jsxs)("div",{className:"loginPass",children:[Object(h.jsx)(ic.f,{}),Object(h.jsx)("input",{name:"newPassword",type:"password",placeholder:"New Password",required:!0,value:j,onChange:e=>O(e.target.value)})]}),Object(h.jsxs)("div",{className:"loginPass",children:[Object(h.jsx)(ic.b,{}),Object(h.jsx)("input",{name:"confirmPassword",type:"password",placeholder:"Confirm New Password",required:!0,value:u,onChange:e=>p(e.target.value)})]}),Object(h.jsx)("input",{type:"submit",value:"Update Password",className:"updatePasswordBtn",disabled:!!n})]})]})})})]})};c(463);var lc=()=>{const e=Object(b.b)(),t=Object(oe.d)(),c=Object(o.o)(),{error:a,loading:r,message:n}=Object(b.c)((e=>e.forgotPassword)),[i,d]=Object(s.useState)("");return Object(s.useEffect)((()=>{a&&(t.error(a),e(yt())),n&&t.success(n)}),[e,a,t,c,n]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(P,{title:"Forgot Password"}),Object(h.jsx)("div",{className:"updateProfileContainer",children:Object(h.jsx)("div",{className:"updateProfileBox",children:r?Object(h.jsx)(je,{}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h2",{className:"updateProfileHeading",children:"Forgot Password"}),Object(h.jsxs)("form",{className:"updateProfileform",encType:"multipart/form-data",onSubmit:t=>{t.preventDefault();const c=new FormData;c.set("email",i),e((e=>async t=>{try{t({type:Ot});const c={headers:{"Content-Type":"application/json"}},{data:a}=await w.a.post("/api/v1/password/forgot",e,c);t({type:ut,payload:a.message})}catch(a){t({type:pt,payload:a.response.data.message})}})(c))},action:"",children:[Object(h.jsxs)("div",{className:"updateProfileEmail",children:[Object(h.jsx)(Ae.m,{}),Object(h.jsx)("input",{name:"email",type:"email",placeholder:"Email",required:!0,value:i,onChange:e=>d(e.target.value)})]}),Object(h.jsx)("input",{type:"submit",value:"Send Recovery Mail",className:"updateProfileBtn",disabled:!!r})]})]})})})]})};c(464);var oc=()=>{const e=Object(b.b)(),t=Object(oe.d)(),c=Object(o.o)(),a=Object(o.q)(),{error:r,loading:n,success:i}=Object(b.c)((e=>e.forgotPassword)),[d,l]=Object(s.useState)(""),[j,O]=Object(s.useState)("");return Object(s.useEffect)((()=>{r&&(t.error(r),e(yt())),i&&(t.success("Password Updated Successfully"),c("/login"))}),[e,r,t,c,i]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(P,{title:"Update Password"}),Object(h.jsx)("div",{className:"updatePasswordContainer",children:Object(h.jsx)("div",{className:"updatePasswordBox",children:n?Object(h.jsx)(je,{}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h2",{className:"updatePasswordHeading",children:"Reset Password"}),Object(h.jsxs)("form",{className:"updatePasswordform",onSubmit:t=>{t.preventDefault();const c=new FormData;var s,n;c.set("password",d),c.set("confirmPassword",j),console.log(a.token),e((s=a.token,n=c,async e=>{try{e({type:ht});const t={headers:{"Content-Type":"application/json"}},{data:c}=await w.a.put("/api/v1/password/reset/".concat(s),n,t);e({type:mt,payload:c.success})}catch(r){e({type:xt,payload:r.response.data.message})}}))},action:"",children:[Object(h.jsxs)("div",{className:"loginPass",children:[Object(h.jsx)(ic.f,{}),Object(h.jsx)("input",{name:"password",type:"password",placeholder:"New Password",required:!0,value:d,onChange:e=>l(e.target.value)})]}),Object(h.jsxs)("div",{className:"loginPass",children:[Object(h.jsx)(ic.b,{}),Object(h.jsx)("input",{name:"confirmPassword",type:"password",placeholder:"Confirm New Password",required:!0,value:j,onChange:e=>O(e.target.value)})]}),Object(h.jsx)("input",{type:"submit",value:"Update Password",className:"updatePasswordBtn",disabled:!!n})]})]})})})]})};c(465),c(466);var jc=e=>{let{item:t,removeItemFromCart:c}=e;const a=Object(b.b)();return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"CartItemCard",children:[Object(h.jsx)("img",{src:t.image,alt:"product image"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(j.a,{to:"/product/".concat(t.product),children:t.name}),Object(h.jsx)("span",{children:"Price : \u20b9".concat(t.price)}),Object(h.jsx)("p",{onClick:()=>{return e=t.product,void a(c(e));var e},children:"Remove"})]})]})})};var bc=()=>{const e=Object(b.b)(),t=Object(o.o)(),{cartItems:c}=Object(b.c)((e=>e.cart));return Object(h.jsx)(h.Fragment,{children:0!==c.length?Object(h.jsxs)("div",{className:"cartPage",children:[Object(h.jsxs)("div",{className:"cartHeader",children:[Object(h.jsx)("p",{children:"Product"}),Object(h.jsx)("p",{children:"Quantity"}),Object(h.jsx)("p",{children:"Subtotal"})]}),c&&c.map((t=>Object(h.jsxs)("div",{className:"cartContainer",children:[Object(h.jsx)(jc,{item:t,removeItemFromCart:ye}),Object(h.jsxs)("div",{className:"cartInput",children:[Object(h.jsx)("button",{onClick:()=>{return c=t.product,void(1>=(a=t.quantity)||e(fe(c,a-1)));var c,a},children:"-"}),Object(h.jsx)("input",{type:"number",value:t.quantity,readOnly:!0}),Object(h.jsx)("button",{onClick:()=>{return c=t.product,a=t.quantity,void(t.stock<=a||e(fe(c,a+1)));var c,a},children:"+"})]}),Object(h.jsxs)("p",{className:"cartSubtotal",children:["\u20b9",t.price*t.quantity]})]}))),Object(h.jsxs)("div",{className:"cartTotal",children:[Object(h.jsx)("div",{}),Object(h.jsxs)("div",{className:"grossProfitBox",children:[Object(h.jsx)("p",{children:"Gross Total"}),Object(h.jsx)("p",{children:"\u20b9 ".concat(c.reduce(((e,t)=>e+t.quantity*t.price),0))})]}),Object(h.jsx)("div",{}),Object(h.jsx)("div",{className:"checkoutBtn",children:Object(h.jsx)("button",{onClick:()=>{t("/shipping")},children:"Checkout"})})]})]}):Object(h.jsxs)("div",{id:"emptyCart",children:[Object(h.jsx)("div",{id:"shopcart",children:Object(h.jsx)(Ae.r,{})}),Object(h.jsx)("div",{id:"ec",children:"Cart is empty"}),Object(h.jsx)(j.a,{to:"/products",children:"PRODUCTS"})]})})},Oc=c(536),uc=c(537),pc=c(269),hc=c(93),mc=c(270),xc=c(546),gc=c(535),vc=c(542);c(467);var fc=e=>{let{activeSteps:t}=e;const c=[{label:Object(h.jsx)(_e.a,{className:"checkoutStepsLabel",children:"Shipping Details"}),icon:Object(h.jsx)(Ae.i,{})},{label:Object(h.jsx)(_e.a,{children:"Confirm Order"}),icon:Object(h.jsx)(Ae.h,{})},{label:Object(h.jsx)(_e.a,{children:"Payment"}),icon:Object(h.jsx)(Ae.a,{})}];return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(xc.a,{alternativeLabel:!0,activeStep:t,style:{boxSixing:"border-box"},children:c.map(((e,c)=>Object(h.jsx)(gc.a,{active:t===c,completed:t>=c,children:Object(h.jsx)(vc.a,{style:{color:t>=c?"rgba(0,0,0,0.869)":"rgba(0,0,0,0.269)"},icon:e.icon,children:e.label})},c)))})})};c(468);var yc=()=>{const e=Object(b.b)(),t=Object(o.o)(),c=Object(oe.d)(),{shippingInfo:a}=Object(b.c)((e=>e.cart)),[r,n]=Object(s.useState)(a.address),[i,d]=Object(s.useState)(a.city),[l,j]=Object(s.useState)(a.state),[O,u]=Object(s.useState)(a.country),[p,m]=Object(s.useState)(a.pincode),[x,g]=Object(s.useState)(a.phoneNo);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(P,{title:"Shipping Details"}),Object(h.jsx)("div",{className:"CheckotSteps",children:Object(h.jsx)(fc,{activeSteps:0})}),Object(h.jsx)("div",{className:"shippingContainer",children:Object(h.jsxs)("div",{className:"shippingBox",children:[Object(h.jsx)("h2",{className:"shippingHeading",children:"Shipping Details"}),Object(h.jsxs)("form",{className:"shipForm",encType:"multipart/form-data",onSubmit:a=>{var s;(a.preventDefault(),x.length<10||x.length>10)?c.error("PhoneNo Number should be 10 digit"):(e((s={address:r,city:i,state:l,phoneNo:x,country:O,pincode:p},async e=>{e({type:ve,payload:s}),localStorage.setItem("shippingInfo",JSON.stringify(s))})),t("/order/confirm"))},children:[Object(h.jsxs)("div",{children:[Object(h.jsx)(pc.a,{}),Object(h.jsx)("input",{type:"text",placeholder:"Address",required:!0,value:r,onChange:e=>n(e.target.value)})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(ic.d,{}),Object(h.jsx)("input",{type:"text",placeholder:"City",required:!0,value:i,onChange:e=>d(e.target.value)})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(mc.a,{}),Object(h.jsx)("input",{type:"number",placeholder:"Pin Code",required:!0,value:p,onChange:e=>m(e.target.value)})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(hc.b,{}),Object(h.jsx)("input",{type:"number",placeholder:"Phone No.",required:!0,value:x,onChange:e=>g(e.target.value)})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(ic.e,{}),Object(h.jsxs)("select",{required:!0,value:O,onChange:e=>u(e.target.value),children:[Object(h.jsx)("option",{value:"",children:"Country"}),Oc.a&&Oc.a.getAllCountries().map((e=>Object(h.jsx)("option",{value:e.isoCode,children:e.name},e.isoCode)))]})]}),O&&Object(h.jsxs)("div",{children:[Object(h.jsx)(ic.e,{}),Object(h.jsxs)("select",{required:!0,value:l,onChange:e=>j(e.target.value),children:[Object(h.jsx)("option",{value:"",children:"State"}),uc.a&&uc.a.getStatesOfCountry(O).map((e=>Object(h.jsx)("option",{value:e.isoCode,children:e.name},e.isoCode)))]})]}),Object(h.jsx)("input",{type:"submit",value:"Continue",className:"shippingBtn",disabled:!l})]})]})})]})};c(469);var Sc=()=>{const e=Object(o.o)(),{shippingInfo:t,cartItems:c}=Object(b.c)((e=>e.cart)),{user:a}=Object(b.c)((e=>e.user)),s=c.reduce(((e,t)=>e+t.quantity*t.price),0),r=s>1e3?0:200,n=.18*s,i=s+r+n,d="".concat(t.address,", ").concat(t.city," - ").concat(t.pinCode,", ").concat(t.state,", ").concat(t.country);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(P,{title:"Confirm Order"}),Object(h.jsx)(fc,{activeSteps:1}),Object(h.jsxs)("div",{className:"confirmOrderPage",children:[Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"confirmShippingArea",children:[Object(h.jsx)(_e.a,{children:"Shipping info"}),Object(h.jsxs)("div",{className:"confirmShippingAreaBox",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{children:"Name :"}),Object(h.jsx)("span",{children:a.name})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{children:"Phone : "}),Object(h.jsx)("span",{children:t.phoneNo})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{children:"Address : "}),Object(h.jsx)("span",{children:d})]})]})]}),Object(h.jsxs)("div",{className:"confirmCartItems",children:[Object(h.jsx)(_e.a,{children:"Cart items"}),Object(h.jsx)("div",{className:"confirmCartItemsContainer",children:c&&c.map((e=>Object(h.jsxs)("div",{children:[Object(h.jsx)("img",{src:e.image,alt:"product"}),Object(h.jsx)(j.a,{to:"/product/".concat(e.product),children:e.name}),"  ",Object(h.jsxs)("span",{children:[e.quantity," X \u20b9",e.price," ="," ",Object(h.jsxs)("b",{children:["\u20b9",e.price*e.quantity]})]})]},e.product)))})]})]}),Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"orderSummary",children:[Object(h.jsx)(_e.a,{children:"Order Summary"}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{children:"Subtotal:"}),Object(h.jsxs)("span",{children:["\u20b9",s]})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{children:"Shipping Charges:"}),Object(h.jsxs)("span",{children:["\u20b9",r]})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{children:"GST :"}),Object(h.jsxs)("span",{children:["\u20b9",n]})]})]}),Object(h.jsxs)("div",{className:"orderSummaryTotal",children:[Object(h.jsx)("p",{children:Object(h.jsx)("b",{children:"Total : "})}),Object(h.jsxs)("span",{children:["\u20b9",i]})]}),Object(h.jsx)("button",{onClick:()=>{const t={subtotal:s,shippingCharges:r,totalPrice:i,tax:n};sessionStorage.setItem("orderInfo",JSON.stringify(t)),e("/process/payment")},children:"Proceed"})]})})]})]})};var Ec=()=>{const e=JSON.parse(sessionStorage.getItem("orderInfo")),t=100*e.totalPrice,{user:c}=Object(b.c)((e=>e.user));console.log("total = ",t);return window.addEventListener("load",(async()=>{const{data:a}=await w.a.post("/api/v1/payment/process",{totalPrice:t}),{key:s}=await w.a.get("".concat(window.location.origin,"/api/razorkey"));var r={key:s,amount:100*e.totalPrice,currency:"INR",name:"E-commerce",description:"This is a Test Transaction",image:"https://img.freepik.com/free-photo/link-icon-front-side_187299-39505.jpg?t=st=1733727235~exp=1733730835~hmac=5d242a06c08dfd0cab60530d941f418b324b9f94a1d7075e10e9a510d1ff8b11&w=740",order_id:a.newOrder.id,callback_url:"".concat(window.location.origin,"/api/v1/payment/verify"),prefill:{name:c.name,email:c.email,contact:"9000090000"},notes:{address:"Eccommerce Corporate Office"},theme:{color:"#3399cc"}};new window.Razorpay(r).open()})()),Object(h.jsx)("div",{className:"razorpayDiv",style:{width:"100vw",height:"100vh"}})};const Nc=()=>async e=>{try{e({type:At});const{data:t}=await w.a.get("/api/v1/admin/orders");e({type:Ut,success:t.success,totalAmount:t.totalAmount,payload:t.orders})}catch(t){e({type:Lt,payload:t.response.data.message})}},Cc=e=>async t=>{try{t({type:Ht});const{data:c}=await w.a.get("/api/v1/order/".concat(e));t({type:zt,success:c.success,payload:c.order})}catch(c){t({type:Gt,payload:c.response.data.message})}},Pc=()=>async e=>{e({type:Jt})};var wc=()=>{const e=Object(o.q)(),t=Object(oe.d)(),c=Object(b.b)(),a=Object(o.o)();async function r(){const e={shippingInfo:p,paymentInfo:{id:d.id,status:i?"Successful":"Not successful"},orderItems:m,itemsPrice:u.subtotal,taxPrice:u.tax,shippingPrice:u.shippingCharges,totalPrice:u.totalPrice};c((e=>async t=>{try{t({type:wt});const c={headers:{"Content-Type":"application/json"}},{data:a}=await w.a.post("/api/v1/order/new",e,c);t({type:Rt,payload:a})}catch(l){t({type:_t,payload:l.response.data.message})}})(e))}var n=null,i=null,d=null;const{error:l,order:j,success:O}=Object(b.c)((e=>e.newOrder)),u=JSON.parse(sessionStorage.getItem("orderInfo")),p=JSON.parse(localStorage.getItem("shippingInfo")),m=JSON.parse(localStorage.getItem("cartItems"));async function x(){await async function(){var{data:t}=await w.a.get("/api/v1/payment/getPaymentById/".concat(e.id));i=(n=t).success,d=n.myPayment}(),await r()}return Object(s.useEffect)((()=>{l&&(t.error(l.response.data.message),c(Pc()))}),[l,c,t]),Object(s.useEffect)((()=>{j||x()}),[j,x]),Object(s.useEffect)((()=>{!0===O&&a("/process/payment/successmessage/",{state:{order:j}})}),[O,a]),Object(h.jsx)(je,{})};c(470);var Rc=()=>{Object(o.m)();return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"orderSuccess",children:[Object(h.jsx)(ic.c,{}),Object(h.jsx)("div",{children:"Your Order has been placed Successfully"}),Object(h.jsx)(j.a,{to:"/orders/me",children:"View All Orders"})]})})},_c=c(57);c(471);var Dc=()=>{const e=Object(b.b)(),t=Object(oe.d)(),{loading:c,error:a,orders:r}=Object(b.c)((e=>e.myOrders)),{user:n}=Object(b.c)((e=>e.user)),i=[{field:"id",headerName:"Order ID",minWidth:300,flex:1},{field:"status",headerName:"Status",minWidth:150,flex:.5,cellClassName:e=>"Delivered"===e.getValue(e.id,"status")?"greenColor":"redColor"},{field:"itemsQty",headerName:"Quantity",type:"number",minWidth:150,flex:.5},{field:"amount",headerName:"Amount",type:"number",minWidth:150,flex:.5},{field:"action",headerName:"Action",type:"number",minWidth:150,flex:.5,sortable:!1,renderCell:e=>Object(h.jsx)(j.a,{to:"/order/".concat(e.getValue(e.id,"id")),children:Object(h.jsx)(Ae.g,{})})}],d=[];return r&&r.forEach(((e,t)=>{d.push({itemsQty:e.orderItems.length,id:e._id,status:e.orderStatus,amount:e.totalPrice})})),Object(s.useEffect)((()=>{a&&(t.error(a),e(Pc())),e((async e=>{try{e({type:Dt});const{data:t}=await w.a.get("/api/v1/orders/myorders");e({type:It,success:t.success,payload:t.orders})}catch(a){e({type:Tt,payload:a.response.data.message})}}))}),[t,e,a]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(P,{title:"".concat(n.name," - Orders")}),c?Object(h.jsx)(je,{}):Object(h.jsxs)("div",{className:"myOrdersPage",children:[Object(h.jsxs)("h2",{id:"myOrdersHeading",children:[n.name,"'s Orders"]}),Object(h.jsx)(_c.a,{rows:d,columns:i,pageSize:10,disableSelectionOnClick:!0,className:"myOrdersTable",autoHeight:!0})]})]})};c(473);var Ic=()=>{const e=Object(b.b)(),t=Object(oe.d)(),c=Object(o.q)(),{loading:a,error:r,order:n}=Object(b.c)((e=>e.orderDetails));return Object(s.useEffect)((()=>{r&&(t.error(r),e(Pc())),e(Cc(c.id))}),[t,e,r,c]),a?Object(h.jsx)(je,{}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(P,{title:"Order Details"}),Object(h.jsxs)("div",{className:"orderDetailsPage",children:[Object(h.jsx)("div",{className:"orderDetailsContainer",children:Object(h.jsxs)("div",{children:[Object(h.jsxs)("h1",{component:"h1",children:["Order #",n&&n._id]}),Object(h.jsx)("h2",{className:"title",children:"Shipping Info"}),Object(h.jsxs)("div",{className:"orderDetailsContainerBox",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{children:"Name :"}),Object(h.jsx)("span",{children:n.uses&&n.user.name})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{children:"Phone :"}),Object(h.jsx)("span",{children:n.shippingInfo&&n.shippingInfo.phoneNo})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{children:"Address :"}),Object(h.jsx)("span",{children:n.shippingInfo&&"".concat(n.shippingInfo.address,", ").concat(n.shippingInfo.city,"-").concat(n.shippingInfo.pincode,", ").concat(n.shippingInfo.state,", ").concat(n.shippingInfo.country)})]})]}),Object(h.jsx)("h2",{className:"title",children:"Payment Information"}),Object(h.jsxs)("div",{className:"orderDetailsContainerBox",children:[Object(h.jsx)("div",{children:Object(h.jsx)("p",{className:n.paymentInfo&&"Successful"===n.paymentInfo.status?"greenColor":"redColor",children:n.paymentInfo&&"Successful"===n.paymentInfo.status?"PAID":"NOT PAID"})}),Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{children:"Amount : "}),Object(h.jsx)("span",{children:n.totalPrice&&n.totalPrice})]})]}),Object(h.jsx)("h2",{className:"title",children:"Order Status"}),Object(h.jsx)("div",{className:"orderDetailsContainerBox",children:Object(h.jsx)("div",{children:Object(h.jsx)("p",{className:n.orderStatus&&"Delivered"===n.orderStatus?"greenColor":"redColor",children:n.orderStatus&&n.orderStatus})})})]})}),Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"confirmCartItems",children:[Object(h.jsx)("h2",{className:"title",children:"Order Items:"}),Object(h.jsx)("div",{className:"confirmCartItemsContainer",children:n.orderItems&&n.orderItems.map((e=>Object(h.jsxs)("div",{children:[Object(h.jsx)("img",{src:e.image,alt:"product"}),Object(h.jsx)(j.a,{to:"/product/".concat(e.product),children:e.name}),"  ",Object(h.jsxs)("span",{children:[e.quantity," X \u20b9",e.price," ="," ",Object(h.jsxs)("b",{children:["\u20b9",e.price*e.quantity]})]})]},e.product)))})]})})]})]})},Tc=c(540),Ac=c(548);c(474);var Uc=()=>Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"sidebar",children:[Object(h.jsx)(j.a,{to:"/",children:Object(h.jsx)("img",{src:S,width:150,alt:"logo"})}),Object(h.jsx)(j.a,{to:"/admin/dashboard",children:Object(h.jsxs)("p",{children:[Object(h.jsx)(Ae.b,{})," Dashboard"]})}),Object(h.jsx)(j.a,{children:Object(h.jsx)(Tc.a,{className:"treview",defaultCollapseIcon:Object(h.jsx)(Ae.e,{}),defaultExpandIcon:Object(h.jsx)(Ae.f,{}),children:Object(h.jsxs)(Ac.a,{className:"p1",nodeId:"1",label:"Products",children:[Object(h.jsx)(j.a,{to:"/admin/products",children:Object(h.jsx)(Ac.a,{nodeId:"2",label:"All",icon:Object(h.jsx)(p.b,{})})}),Object(h.jsx)(j.a,{to:"/admin/product/new",children:Object(h.jsx)(Ac.a,{nodeId:"3",label:"Create",icon:Object(h.jsx)(p.b,{})})})]})})}),Object(h.jsx)(j.a,{to:"/admin/orders",children:Object(h.jsxs)("p",{children:[Object(h.jsx)(ic.a,{})," Orders"]})}),Object(h.jsx)(j.a,{to:"/admin/users",children:Object(h.jsxs)("p",{children:[Object(h.jsx)(ic.g,{})," Users"]})}),Object(h.jsx)(j.a,{to:"/admin/reviews",children:Object(h.jsxs)("p",{children:[Object(h.jsx)(Ae.o,{})," Reviews"]})})]})});c(65);var Lc=()=>{const e=Object(b.b)(),t=Object(oe.d)(),{products:c,error:a}=Object(b.c)((e=>e.products)),{orders:r,error:n}=Object(b.c)((e=>e.allOrders)),{error:i,users:d}=Object(b.c)((e=>e.allUsers)),[l,o]=Object(s.useState)(0);return Object(s.useEffect)((()=>{e(ie()),e(Nc()),e(ft())}),[]),Object(s.useEffect)((()=>{if(r){let e=0;r.forEach((t=>{e+=t.totalPrice})),o(e)}}),[r]),Object(s.useEffect)((()=>{n&&(t.error(n),e(Pc())),a&&(t.error(a),e(le()))}),[e,t,n,a]),Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"dashboard",children:[Object(h.jsx)(Uc,{}),Object(h.jsxs)("div",{className:"dashboardContainer",children:[Object(h.jsx)("h1",{children:"Dashboard"}),Object(h.jsx)("div",{className:"dashboardSummary",children:Object(h.jsx)("div",{children:Object(h.jsxs)("p",{children:["Total Orders ",Object(h.jsx)("br",{})," ",l]})})}),Object(h.jsxs)("div",{className:"dashboardSummary2",children:[Object(h.jsxs)(j.a,{to:"/admin/products",children:[Object(h.jsx)("p",{children:"Product"}),Object(h.jsx)("p",{children:c&&c.length})]}),Object(h.jsxs)(j.a,{to:"/admin/orders",children:[Object(h.jsx)("p",{children:"Orders"}),Object(h.jsx)("p",{children:r&&r.length})]}),Object(h.jsxs)(j.a,{to:"/admin/users",children:[Object(h.jsx)("p",{children:"Users"}),Object(h.jsx)("p",{children:d&&d.length})]})]}),Object(h.jsx)("div",{className:"charts"})]})]})})};c(178);var Fc=()=>{const e=Object(b.b)(),t=Object(oe.d)(),{error:c,products:a,loading:r}=Object(b.c)((e=>e.products)),{error:n,isDeleted:i,message:d,loading:l}=Object(b.c)((e=>e.product)),o=[{field:"id",headerName:"Product ID",minWidth:150,flex:.4},{field:"name",headerName:"Name",minWidth:200,flex:.5},{field:"stock",headerName:"Stock",type:"number",minWidth:120,flex:.2},{field:"price",headerName:"Price",type:"number",minWidth:150,flex:.3},{field:"action",headerName:"Action",type:"number",minWidth:150,flex:.2,sortable:!1,renderCell:e=>Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(j.a,{className:"LinkBtn",to:"".concat(window.location.origin,"/admin/product/update/").concat(e.getValue(e.id,"id")),children:Object(h.jsx)(Ae.d,{})}),Object(h.jsx)(me.a,{className:"LinkBtn",onClick:()=>u(e.getValue(e.id,"id")),disabled:l,children:Object(h.jsx)(Ae.c,{})})]})}],O=[];a&&a.forEach(((e,t)=>{O.push({stock:e.stock,name:e.name,id:e._id,status:e.orderStatus,price:e.price})}));const u=t=>{e((e=>async t=>{try{t({type:J}),console.log("NEW_PRODUCT_REQUEST ");const{data:c}=await w.a.delete("/api/v1/admin/product/".concat(e));t({type:M,payload:c})}catch(c){t({type:X,payload:c.message})}})(t))};return Object(s.useEffect)((()=>{c&&(t.error(c),e(le())),e(ie())}),[e,t,c]),Object(s.useEffect)((()=>{n&&(t.error(d),e(le())),i&&(t.success(d),e({type:Y}),e(ie()))}),[e,t,n,i,d]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(P,{title:"All Products - (Admin)"}),Object(h.jsxs)("div",{className:"dashboard",children:[Object(h.jsx)(Uc,{}),Object(h.jsxs)("div",{className:"dashboardContainer",children:[Object(h.jsx)("h1",{className:"productsListHeading",children:"All Products"}),r?Object(h.jsx)(je,{}):Object(h.jsx)(_c.a,{rows:O,columns:o,pageSize:10,disableSelectionOnClick:!0,className:"productListTable",autoHeight:!0})]})]})]})},kc=c(144);c(252);var Wc=()=>{const e=Object(b.b)(),t=Object(oe.d)(),c=Object(o.o)(),{error:a,loading:r,success:n}=Object(b.c)((e=>e.newProduct)),[i,d]=Object(s.useState)(""),[l,j]=Object(s.useState)(""),[O,u]=Object(s.useState)(""),[p,m]=Object(s.useState)(""),[x,g]=Object(s.useState)(""),[v,f]=Object(s.useState)([]),[y,S]=Object(s.useState)([]);Object(s.useEffect)((()=>{a&&(console.log("error = ",a),t.error(a),e(le())),n&&(t.success("Product Created Successfully"),e({type:B}),c("/admin/dashboard"))}),[e,t,a,c,n]);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(P,{title:"Create New Product"}),Object(h.jsxs)("div",{className:"dashboard",children:[Object(h.jsx)(Uc,{}),Object(h.jsxs)("div",{className:"newProductContainer",children:[Object(h.jsx)("h1",{className:"productsListHeading",children:"Create Product"}),Object(h.jsx)("div",{className:"formContainer",children:r?Object(h.jsx)(je,{}):Object(h.jsxs)("form",{className:"newProductForm",encType:"multipart/form-data",onSubmit:t=>{t.preventDefault();const c=JSON.stringify({name:i,price:O,stock:p,description:l,category:x,images:Array.from(v)});var s;e((s=c,async e=>{try{e({type:W});const t={headers:{"Content-Type":"application/json"}},{data:c}=await w.a.post("/api/v1/admin/product/new",s,t);e({type:q,payload:c})}catch(a){e({type:Q,payload:a.response.data.message})}}))},children:[Object(h.jsxs)("div",{children:[Object(h.jsx)(hc.a,{}),Object(h.jsx)("input",{type:"text",placeholder:"Product Name",required:!0,value:i,onChange:e=>d(e.target.value)})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(kc.a,{}),Object(h.jsx)("input",{type:"number",placeholder:"Price",required:!0,value:O,onChange:e=>u(e.target.value)})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(Ae.l,{}),Object(h.jsx)("textarea",{placeholder:"Description",required:!0,value:l,onChange:e=>j(e.target.value),cols:"30",rows:"1"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(Ae.k,{}),Object(h.jsxs)("select",{onChange:e=>g(e.target.value),children:[Object(h.jsx)("option",{value:"",children:"Choose Category"}),["Electronics","Laptop","Footwear","Pants","Shirts","Camera","Phones"].map((e=>Object(h.jsx)("option",{value:e,children:e},e)))]})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(Ae.q,{}),Object(h.jsx)("input",{type:"number",placeholder:"Stock",required:!0,value:p,onChange:e=>m(e.target.value)})]}),Object(h.jsx)("div",{id:"imageUpload",children:Object(h.jsx)("input",{type:"file",name:"avatar",accept:"image/*",onChange:e=>{e.preventDefault();const t=Array.from(e.target.files);f([]),S([]),t.forEach((e=>{const t=new FileReader;t.onload=()=>{2===t.readyState&&(S((e=>[...e,t.result])),f((e=>[...e,t.result])))},t.readAsDataURL(e)}))},multiple:!0})}),Object(h.jsx)("div",{id:"imageShow",children:y.map(((e,t)=>Object(h.jsx)("img",{src:e,alt:"Avatar"},t)))}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{id:"createProdBtn",type:"submit",disabled:!!r,children:"Create Product"})})]})})]})]})]})};c(475);var qc=()=>{const e=Object(b.b)(),t=Object(oe.d)(),c=Object(o.o)(),a=Object(o.q)(),{error:r,loading:n,isUpdated:i,message:d}=Object(b.c)((e=>e.product)),{error:l,product:j}=Object(b.c)((e=>e.productDetails)),[O,u]=Object(s.useState)(""),[p,m]=Object(s.useState)(""),[x,g]=Object(s.useState)(""),[v,f]=Object(s.useState)(""),[y,S]=Object(s.useState)(""),[E,N]=Object(s.useState)([]),[C,R]=Object(s.useState)([]),[_,D]=Object(s.useState)([]),I=a.id;Object(s.useEffect)((()=>{e(de(I)),u(j.name),m(j.description),g(j.price),S(j.category),f(j.stock),R(j.images)}),[]),Object(s.useEffect)((()=>{I!==(null===j||void 0===j?void 0:j._id)||0===j.length?e(de(I)):(u(j.name),m(j.description),g(j.price),S(j.category),f(j.stock),R(j.images)),l&&(t.error(l),e(le())),r&&(t.error(r),e(le())),i&&(t.success(d),e({type:z}),e(de(I)),c("/admin/products"))}),[e,t,l,c,i,d,I,j]);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(P,{title:"Create New Product"}),Object(h.jsxs)("div",{className:"dashboard",children:[Object(h.jsx)(Uc,{}),Object(h.jsxs)("div",{className:"newProductContainer",children:[Object(h.jsx)("h1",{className:"productsListHeading",children:"Update Product"}),Object(h.jsx)("div",{className:"formContainer",children:Object(h.jsxs)("form",{className:"newProductForm",encType:"multipart/form-data",onSubmit:t=>{t.preventDefault();const c=JSON.stringify({name:O,price:x,stock:v,description:p,category:y,images:Array.from(E)});var a,s;e((a=I,s=c,async e=>{try{e({type:V});const t={headers:{"Content-Type":"application/json"}},{data:c}=await w.a.put("/api/v1/admin/product/".concat(a),s,t);e({type:H,payload:c})}catch(l){e({type:G,payload:l.response.data.message})}}))},children:[Object(h.jsxs)("div",{children:[Object(h.jsx)(hc.a,{}),Object(h.jsx)("input",{type:"text",placeholder:"Product Name",required:!0,value:O,onChange:e=>u(e.target.value)})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(kc.a,{}),Object(h.jsx)("input",{type:"number",placeholder:"Price",required:!0,value:x,onChange:e=>g(e.target.value)})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(Ae.l,{}),Object(h.jsx)("textarea",{placeholder:"Description",required:!0,value:p,onChange:e=>m(e.target.value),cols:"30",rows:"1"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(Ae.k,{}),Object(h.jsxs)("select",{value:y,onChange:e=>S(e.target.value),children:[Object(h.jsx)("option",{value:"",children:"Choose Category"}),["Electronics","Laptops","Footwear","Pants","Shirts","Cameras","Phones"].map((e=>Object(h.jsx)("option",{value:e,children:e},e)))]})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(Ae.q,{}),Object(h.jsx)("input",{type:"number",placeholder:"Stock",required:!0,value:v,onChange:e=>f(e.target.value)})]}),Object(h.jsx)("div",{id:"imageUpload",children:Object(h.jsx)("input",{type:"file",name:"avatar",accept:"image/*",onChange:e=>{e.preventDefault();const t=Array.from(e.target.files);N([]),D([]),R([]),t.forEach((e=>{const t=new FileReader;t.onload=()=>{2===t.readyState&&(D((e=>[...e,t.result])),N((e=>[...e,t.result])))},t.readAsDataURL(e)}))},multiple:!0})}),C?Object(h.jsx)("div",{id:"imageShow",children:C.map(((e,t)=>Object(h.jsx)("img",{src:e.url,alt:"Old Product"},t)))}):null,_?Object(h.jsx)("div",{id:"imageShow",children:_.map(((e,t)=>Object(h.jsx)("img",{src:e,alt:"New Product"},t)))}):null,Object(h.jsx)("div",{children:Object(h.jsx)("button",{id:"createProdBtn",type:"submit",disabled:!!n,children:"Update Product"})})]})})]})]})]})};var Bc=()=>{const e=Object(b.b)(),t=Object(oe.d)(),{error:c,orders:a,loading:r}=Object(b.c)((e=>e.allOrders)),{error:n,isDeleted:i,message:d,loading:l}=Object(b.c)((e=>e.order)),o=[{field:"id",headerName:"Order ID",minWidth:300,flex:.1},{field:"status",headerName:"Status",minWidth:150,flex:.1,cellClassName:e=>"Delivered"===e.getValue(e.id,"status")?"greenColor":"redColor"},{field:"itemsQty",headerName:"Unique Items",type:"number",minWidth:200,flex:.1},{field:"amount",headerName:"Amount",type:"number",minWidth:150,flex:.1},{field:"action",headerName:"Action",type:"number",minWidth:150,flex:.1,sortable:!1,renderCell:e=>Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(j.a,{className:"LinkBtn",to:"".concat(window.location.origin,"/admin/order/update/").concat(e.getValue(e.id,"id")),children:Object(h.jsx)(Ae.d,{})}),Object(h.jsx)(me.a,{className:"LinkBtn",onClick:()=>u(e.getValue(e.id,"id")),disabled:l,children:Object(h.jsx)(Ae.c,{})})]})}],O=[];a&&a.forEach(((e,t)=>{O.push({itemsQty:e.orderItems.length,id:e._id,status:e.orderStatus,amount:e.totalPrice})}));const u=t=>{e((e=>async t=>{try{t({type:Bt});const{data:c}=await w.a.delete("/api/v1/admin/order/".concat(e));t({type:Qt,success:c.success,message:c.message})}catch(c){t({type:Vt,payload:c.response.data.message})}})(t))};return Object(s.useEffect)((()=>{c&&(t.error(c),e(le())),e(Nc())}),[e,t,c]),Object(s.useEffect)((()=>{n&&(t.error(d),e(le())),i&&(t.success(d),e({type:Y}),e(Nc()))}),[e,t,n,i,d]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(P,{title:"All Products - (Admin)"}),Object(h.jsxs)("div",{className:"dashboard",children:[Object(h.jsx)(Uc,{}),Object(h.jsxs)("div",{className:"dashboardContainer",children:[Object(h.jsx)("h1",{className:"productsListHeading",children:"All Orders"}),r?Object(h.jsx)(je,{}):Object(h.jsx)(_c.a,{rows:O,columns:o,pageSize:10,disableSelectionOnClick:!0,className:"productListTable",autoHeight:!0})]})]})]})};c(476);var Qc=()=>{const e=Object(b.b)(),t=Object(o.q)(),c=Object(oe.d)(),{error:a,order:r,loading:n}=Object(b.c)((e=>e.orderDetails)),{error:i,isUpdated:d}=Object(b.c)((e=>e.order)),[l,O]=Object(s.useState)("");return Object(s.useEffect)((()=>{a&&(c.error(a),e(Pc)),0===r.length&&e(Cc(t.id))}),[t.id,e,c,a]),Object(s.useEffect)((()=>{i&&(console.log(i),c.error(i),e(Pc())),d&&(c.success("Order Updated Successfully"),e({type:Wt}),e(Cc(t.id)))}),[i,d]),Object(s.useEffect)((()=>{(null===r||void 0===r?void 0:r.length)>0?r._id!==t.id&&e(Cc(t.id)):e(Cc(t.id))}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(P,{title:"Order Details"}),Object(h.jsxs)("div",{className:"updateOrderPage",children:[Object(h.jsx)(Uc,{}),n?null:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"confirmShippingArea",children:[Object(h.jsx)("h2",{className:"updateOrderTitle",children:"Shipping info"}),Object(h.jsxs)("div",{className:"orderDetailsContainerBox",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{children:"Name : "}),Object(h.jsx)("span",{children:r.user&&r.user.name})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{children:"Phone : "}),Object(h.jsx)("span",{children:r.shippingInfo&&r.shippingInfo.phoneNo})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{children:"Address : "}),Object(h.jsx)("span",{children:r.shippingInfo&&"".concat(r.shippingInfo.address,", ").concat(r.shippingInfo.city,"-").concat(r.shippingInfo.pincode,", ").concat(r.shippingInfo.state,", ").concat(r.shippingInfo.country)})]})]})]}),Object(h.jsx)("h2",{className:"updateOrderTitle",children:"Payment info"}),Object(h.jsxs)("div",{className:"orderDetailsContainerBox",children:[Object(h.jsx)("div",{children:Object(h.jsx)("p",{className:r.paymentInfo&&"Successful"===r.paymentInfo.status?"greenColor":"redColor",children:r.paymentInfo&&"Successful"===r.paymentInfo.status?"PAID":"NOT PAID"})}),Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{children:"Amount : "}),Object(h.jsx)("span",{children:r.totalPrice&&r.totalPrice})]}),Object(h.jsx)("h2",{className:"updateOrderTitle",children:"Order Status"}),Object(h.jsx)("div",{className:"orderDetailsContainerBox",children:Object(h.jsx)("div",{children:Object(h.jsx)("p",{className:r.orderStatus&&"Delivered"===r.orderStatus?"greenColor":"redColor",children:r.orderStatus})})})]}),Object(h.jsxs)("div",{className:"confirmCartItems",children:[Object(h.jsx)("h2",{className:"updateOrderTitle",children:"Cart items"}),Object(h.jsx)("div",{className:"confirmCartItemsContainer",children:r.orderItems&&r.orderItems.map((e=>Object(h.jsxs)("div",{children:[Object(h.jsx)("img",{src:e.image,alt:"product"}),Object(h.jsx)(j.a,{to:"/product/".concat(e.product),children:e.name}),"  ",Object(h.jsxs)("span",{children:[e.quantity," X \u20b9",e.price," ="," ",Object(h.jsxs)("b",{children:["\u20b9",e.price*e.quantity]})]})]},e.product)))})]})]}),Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"orderSummary",style:{display:"Delivered"===(null===r||void 0===r?void 0:r.orderStatus)?"none":"block"},children:[Object(h.jsx)(_e.a,{children:"Process Order"}),Object(h.jsx)("div",{className:"updateOrderFormContainer",children:Object(h.jsxs)("form",{className:"newProductForm",encType:"multipart/form-data",onSubmit:c=>{c.preventDefault();const s=JSON.stringify({status:l});var r,n;e((r=t.id,n=s,async e=>{try{e({type:Ft});const t={headers:{"Content-Type":"application/json"}},{data:c}=await w.a.put("/api/v1/admin/order/".concat(r),n,t);e({type:kt,success:c.success,payload:c.order})}catch(a){e({type:qt,payload:a.response.data.message})}}))},children:[Object(h.jsxs)("div",{children:[Object(h.jsx)(Ee.a,{}),Object(h.jsxs)("select",{onChange:e=>O(e.target.value),children:[Object(h.jsx)("option",{value:"",children:"Choose Category"}),"Processing"===r.orderStatus?Object(h.jsx)("option",{value:"Shipping",children:"Shipping"}):null,"Shipping"===r.orderStatus?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("option",{value:"Processing",children:"Processing"}),Object(h.jsx)("option",{value:"Delivered",children:"Delivered"})]}):null]})]}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{id:"createProdBtn",type:"submit",disabled:!!n||""===l,children:"Update"})})]})})]})})]})]})]})};var Vc=()=>{const e=Object(b.b)(),t=Object(oe.d)(),{error:c,users:a,loading:r}=Object(b.c)((e=>e.allUsers)),{loading:n,user:i}=Object(b.c)((e=>e.user)),{error:d,isDeleted:l,message:o,loading:O}=Object(b.c)((e=>e.profile)),u=[{field:"id",headerName:"User ID",minWidth:300,flex:.5},{field:"name",headerName:"Name",minWidth:150,flex:.5},{field:"email",headerName:"Email",minWidth:150,flex:.5},{field:"role",headerName:"Role",type:"number",minWidth:100,flex:.4,cellClassName:e=>"admin"===e.getValue(e.id,"role")?"greenColor":""},{field:"action",headerName:"Action",type:"number",minWidth:150,flex:.2,sortable:!1,renderCell:e=>Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(j.a,{className:"LinkBtn",to:"".concat(window.location.origin,"/admin/user/").concat(e.getValue(e.id,"id")),children:Object(h.jsx)(Ae.d,{})}),Object(h.jsx)(me.a,{className:"UserListLinkBtn",onClick:()=>m(e.getValue(e.id,"id")),disabled:O||e.getValue(e.id,"id")==i._id,children:Object(h.jsx)(Ae.c,{})})]})}],p=[];a&&a.forEach(((e,t)=>{p.push({name:e.name,id:e._id,email:e.email,role:e.role})}));const m=t=>{e((e=>async t=>{try{t({type:Xe});const{data:c}=await w.a.delete("/api/v1/admin/users/".concat(e));t({type:Ke,payload:c})}catch(c){t({type:$e,payload:c.response.data.message})}})(t))};return Object(s.useEffect)((()=>{c&&(t.error(c),e(yt())),e(ft())}),[e,t,c]),Object(s.useEffect)((()=>{d&&(t.error(d),e(yt())),l&&(t.success(o),e({type:Ze}),e(ft()))}),[e,t,d,l,o]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(P,{title:"All Products - (Admin)"}),Object(h.jsxs)("div",{className:"dashboard",children:[Object(h.jsx)(Uc,{}),Object(h.jsxs)("div",{className:"dashboardContainer",children:[Object(h.jsx)("h1",{className:"productsListHeading",children:"All Users"}),r||n||O?Object(h.jsx)(je,{}):Object(h.jsx)(_c.a,{rows:p,columns:u,pageSize:10,disableSelectionOnClick:!0,className:"productListTable",autoHeight:!0})]})]})]})};var Hc=()=>{const e=Object(b.b)(),t=Object(oe.d)(),c=Object(o.o)(),a=Object(o.q)(),{error:r,loading:n,isUpdated:i}=Object(b.c)((e=>e.profile)),{error:d,loading:l,user:j}=Object(b.c)((e=>e.userDetails)),[u,p]=Object(s.useState)(""),[m,x]=Object(s.useState)(""),[g,v]=Object(s.useState)(""),f=a.id;Object(s.useEffect)((()=>{p(j.name),x(j.email),v(j.role)}),[j]),Object(s.useEffect)((()=>{var t;e((t=f,async e=>{try{e({type:et});const{data:c}=await w.a.get("/api/v1/admin/users/".concat(t));e({type:tt,payload:c.user})}catch(d){e({type:ct,payload:d.response.data.message})}}))}),[]),Object(s.useEffect)((()=>{d&&(t.error(d),e(yt())),r&&(t.error(r),e(yt())),i&&(t.success("User Updated Successfully"),e({type:Me}),c("/admin/users"))}),[e,t,d,c,i]);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(P,{title:"Update User Details"}),Object(h.jsxs)("div",{className:"dashboard",children:[Object(h.jsx)(Uc,{}),n?Object(h.jsx)(je,{}):Object(h.jsxs)("div",{className:"newProductContainer",children:[Object(h.jsx)("h1",{className:"productsListHeading",children:"Update User"}),Object(h.jsx)("div",{className:"formContainer",children:Object(h.jsxs)("form",{className:"newProductForm",encType:"multipart/form-data",onSubmit:t=>{t.preventDefault();const c=JSON.stringify({name:u,role:g,email:m});var a,s;e((a=f,s=c,async e=>{try{e({type:Ge});const t={headers:{"Content-Type":"application/json"}},{data:c}=await w.a.put("/api/v1/admin/users/".concat(a),s,t);e({type:Je,payload:c.success})}catch(d){e({type:Ye,payload:d.response.data.message})}}))},children:[Object(h.jsxs)("div",{children:[Object(h.jsx)(Ae.k,{}),Object(h.jsx)("input",{type:"text",placeholder:"User Name",required:!0,value:u,onChange:e=>p(e.target.value)})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(Ae.n,{}),Object(h.jsx)("input",{type:"text",placeholder:"Email",required:!0,value:m,onChange:e=>x(e.target.value)})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(O.d,{}),Object(h.jsxs)("select",{onChange:e=>v(e.target.value),value:g,children:[Object(h.jsx)("option",{value:"",children:"Choose Role"}),Object(h.jsx)("option",{value:"admin",children:"admin"}),Object(h.jsx)("option",{value:"user",children:"user"})]})]}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{id:"createProdBtn",type:"submit",disabled:!(!l&&!n)||""==g,children:"Update"})})]})})]})]})]})};c(477);var zc=()=>{const e=Object(b.b)(),t=Object(oe.d)(),{error:c,reviews:a,loading:r}=Object(b.c)((e=>e.productReviews)),{loading:n,products:i,error:d}=Object(b.c)((e=>e.products)),{error:l,isDeleted:o,message:j,loading:O}=Object(b.c)((e=>e.deleteReview)),u=[{field:"productIndex",headerName:"Product Index",minWidth:50,flex:.2},{field:"productId",headerName:"Product ID",minWidth:150,flex:.4},{field:"productName",headerName:"Product Name",minWidth:150,flex:.4},{field:"id",headerName:"Review ID",minWidth:150,flex:.4},{field:"reviewName",headerName:"User Name",minWidth:100,flex:.3},{field:"reviewRating",headerName:"Rating",type:"number",minWidth:30,flex:.3},{field:"reviewComment",headerName:"Comment",type:"number",minWidth:150,flex:.3},{field:"action",headerName:"Action",type:"number",minWidth:150,flex:.2,sortable:!1,renderCell:e=>Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(me.a,{className:"LinkBtn",onClick:()=>x(e.getValue(e.id,"id"),e.getValue(e.id,"productId")),disabled:O,children:Object(h.jsx)(Ae.c,{})})})}],[p,m]=Object(s.useState)([]),x=(t,a)=>{e(((e,t)=>async a=>{try{a({type:J});const{data:c}=await w.a.delete("/api/v1/review?productId=".concat(t,"&id=").concat(e));a({type:M,payload:c})}catch(c){a({type:X,payload:c.response.data.message})}})(t,a)),e(ie())};return Object(s.useEffect)((()=>{console.log("products.length = ",i.length);var e=[];let t=0;i&&i.forEach(((c,a)=>{c.reviews.length>=1&&(t++,c.reviews.forEach((a=>{e.push({productIndex:t,productId:c._id,productName:c.name,reviewName:a.name,id:a._id,reviewRating:a.rating,reviewComment:a.comment,reviewUser:a.user})})))})),m(e)}),[i,o]),Object(s.useEffect)((()=>{d&&(t.error(d),e(le())),0==i.length&&e(ie())}),[e,t,c]),Object(s.useEffect)((()=>{l&&(t.error(j),e(le())),o&&(t.success(j),e({type:te}),e(ie()))}),[e,t,l,o,j]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(P,{title:"All Reviews - (Admin)"}),Object(h.jsxs)("div",{className:"dashboard",children:[Object(h.jsx)(Uc,{}),Object(h.jsxs)("div",{className:"dashboardContainer",children:[Object(h.jsx)("h1",{className:"productsListHeading",children:"All Reviews"}),r||n?Object(h.jsx)(je,{}):Object(h.jsx)(_c.a,{rows:p,columns:u,pageSize:10,disableSelectionOnClick:!0,className:"productListTable",autoHeight:!0})]})]})]})};var Gc=function(){r.a.useEffect((()=>{l.a.load({google:{families:["Roboto","Droid Sans","Chilanka","Open Sans"]}}),Kt.dispatch(vt())}),[]);const{isAuthenticated:e,user:t}=Object(b.c)((e=>e.user));function c(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(m,{}),e?Object(h.jsx)(cc,{user:t}):Object(h.jsx)(ac,{}),Object(h.jsx)(o.a,{}),Object(h.jsx)(v,{})]})}const a=Object(j.c)([{element:Object(h.jsx)(c,{}),children:[{path:"*",element:Object(h.jsx)(f,{})},{path:"/",element:Object(h.jsx)(be,{})},{path:"/loadertest",element:Object(h.jsx)("div",{style:{width:"50vw",margin:"auto",height:"100vh",boxSizing:"border-box",border:"1px solid grey"},children:Object(h.jsx)(je,{})})},{path:"/product/:id",element:Object(h.jsx)(Ce,{})},{path:"/products",element:Object(h.jsx)(Ie,{})},{path:"/products/:keyword",element:Object(h.jsx)(Ie,{})},{path:"/search",element:Object(h.jsx)(Te,{})},{path:"/login",element:Object(h.jsx)(St,{})},{path:"/profile",element:Object(h.jsx)(rc,{children:Object(h.jsx)(sc,{})})},{path:"/me/update",element:Object(h.jsx)(rc,{children:Object(h.jsx)(nc,{})})},{path:"/password/update",element:Object(h.jsx)(rc,{children:Object(h.jsx)(dc,{})})},{path:"/password/forgot",element:Object(h.jsx)(lc,{})},{path:"/password/reset/:token",element:Object(h.jsx)(oc,{})},{path:"/cart",element:Object(h.jsx)(bc,{})},{path:"/shipping",element:Object(h.jsx)(rc,{children:Object(h.jsx)(yc,{})})},{path:"/order/confirm",element:Object(h.jsx)(rc,{children:Object(h.jsx)(Sc,{})})},{path:"/process/payment",element:Object(h.jsx)(rc,{children:Object(h.jsx)(Ec,{})})},{path:"/process/payment/success/:id",element:Object(h.jsx)(rc,{children:Object(h.jsx)(wc,{})})},{path:"/process/payment/successmessage",element:Object(h.jsx)(rc,{children:Object(h.jsx)(Rc,{})})},{path:"/orders/me",element:Object(h.jsx)(rc,{children:Object(h.jsx)(Dc,{})})},{path:"/order/:id",element:Object(h.jsx)(rc,{children:Object(h.jsx)(Ic,{})})},{path:"/admin/dashboard",element:Object(h.jsx)(rc,{isAdmin:!0,children:Object(h.jsx)(Lc,{})})},{path:"/admin/products",element:Object(h.jsx)(rc,{isAdmin:!0,children:Object(h.jsx)(Fc,{})})},{path:"/admin/product/new",element:Object(h.jsx)(rc,{isAdmin:!0,children:Object(h.jsx)(Wc,{})})},{path:"/admin/product/update/:id",element:Object(h.jsx)(rc,{isAdmin:!0,children:Object(h.jsx)(qc,{})})},{path:"/admin/orders",element:Object(h.jsx)(rc,{isAdmin:!0,children:Object(h.jsx)(Bc,{})})},{path:"/admin/order/update/:id",element:Object(h.jsx)(rc,{isAdmin:!0,children:Object(h.jsx)(Qc,{})})},{path:"/admin/users",element:Object(h.jsx)(rc,{isAdmin:!0,children:Object(h.jsx)(Vc,{})})},{path:"/admin/user/:id",element:Object(h.jsx)(rc,{isAdmin:!0,children:Object(h.jsx)(Hc,{})})},{path:"/admin/reviews",element:Object(h.jsx)(rc,{isAdmin:!0,children:Object(h.jsx)(zc,{})})}]}]);return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(j.b,{router:a})})},Jc=c(271);const Mc={timeout:3e3,position:oe.b.BOTTOM_CENTER,transition:oe.c.SCALE};i.a.createRoot(document.getElementById("root")).render(Object(h.jsx)(b.a,{store:Kt,children:Object(h.jsx)(oe.a,Object(a.a)(Object(a.a)({template:Jc.a},Mc),{},{children:Object(h.jsx)(Gc,{})}))}))},65:function(e,t,c){}},[[478,1,2]]]);
//# sourceMappingURL=main.1d064a6b.chunk.js.map